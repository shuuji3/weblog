<!doctype html><html class=no-js lang=en-us prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><head><meta charset=utf-8><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=description content><meta property="og:description" content><meta name=author content="map[]"><meta property="og:title" content="ED25519のGPGキーを生成してコミットに署名する"><meta property="twitter:title" content="ED25519のGPGキーを生成してコミットに署名する"><link rel=apple-touch-icon sizes=57x57 href=/images/favicons/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/images/favicons/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/images/favicons/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/images/favicons/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/images/favicons/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/images/favicons/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/images/favicons/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/images/favicons/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/images/favicons/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/images/favicons/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/manifest.json><meta name=msapplication-TileColor content="#ffffff"><meta name=msapplication-TileImage content="/images/favicons/ms-icon-144x144.png"><meta name=theme-color content="#ffffff"><base href=https://weblog.shuuji3.xyz/><title>ED25519のGPGキーを生成してコミットに署名する</title><link rel=canonical href=https://weblog.shuuji3.xyz/post/2020-05-05-ed25519%E3%81%AEgpg%E3%82%AD%E3%83%BC%E3%82%92%E7%94%9F%E6%88%90%E3%81%97%E3%81%A6%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%81%AB%E7%BD%B2%E5%90%8D%E3%81%99%E3%82%8B/><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/css/main.css><link rel=stylesheet href=/css/Gilroy-ExtraBold.css><link rel=stylesheet href=/css/Gilroy-Light.css></head><body lang=en><div class=wrapper-masthead><div class=container><header class="masthead clearfix"><a href=https://weblog.shuuji3.xyz// class=site-avatar><img src=/images/emoji-google-unicorn-face.png></a><div class=site-info><h1 class=site-name><a href=https://weblog.shuuji3.xyz//>Weblog by shuuji3</a></h1><p class=site-description>Software Engineering</p></div><nav><a href=/>Blog</a>
<a href=/project>Projects</a>
<a href=/dashboard/blog>Dashboard</a></nav></header></div></div><div class=container><section class=section><div class=container><article class=article><h1 class=title><a href=https://weblog.shuuji3.xyz/post/2020-05-05-ed25519%E3%81%AEgpg%E3%82%AD%E3%83%BC%E3%82%92%E7%94%9F%E6%88%90%E3%81%97%E3%81%A6%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%81%AB%E7%BD%B2%E5%90%8D%E3%81%99%E3%82%8B/>ED25519のGPGキーを生成してコミットに署名する</a></h1><div class=post-metadata><p class=text-muted></p><div class="tags text-muted"><i class="fa fa-tags" aria-hidden=true></i><a class="button is-link code" href=/tags/gpg>gpg</a>
<a class="button is-link code" href=/tags/git>git</a>
<a class="button is-link code" href=/tags/github>github</a></div><p class=text-muted><i class="fa fa-calendar" aria-hidden=true></i>May 5, 2020</p></div><div class=content><div class="well post-banner"></div><div class="table-of-contents toc bd-callout"><h4 class=text-muted>Table of Contents</h4><ul class=toc-h1><ul class=toc-h2><li><a href=/post/2020-05-05-ed25519%E3%81%AEgpg%E3%82%AD%E3%83%BC%E3%82%92%E7%94%9F%E6%88%90%E3%81%97%E3%81%A6%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%81%AB%E7%BD%B2%E5%90%8D%E3%81%99%E3%82%8B/#generate-key>Generate key</a></li></ul></ul><ul class=toc-h1><ul class=toc-h2><li><a href=/post/2020-05-05-ed25519%E3%81%AEgpg%E3%82%AD%E3%83%BC%E3%82%92%E7%94%9F%E6%88%90%E3%81%97%E3%81%A6%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%81%AB%E7%BD%B2%E5%90%8D%E3%81%99%E3%82%8B/#add-subkeys>Add subkeys</a></li></ul></ul><ul class=toc-h1><ul class=toc-h2><li><a href=/post/2020-05-05-ed25519%E3%81%AEgpg%E3%82%AD%E3%83%BC%E3%82%92%E7%94%9F%E6%88%90%E3%81%97%E3%81%A6%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%81%AB%E7%BD%B2%E5%90%8D%E3%81%99%E3%82%8B/#export-public-key-to-github>Export public key to GitHub</a></li></ul></ul><ul class=toc-h1><ul class=toc-h2><li><a href=/post/2020-05-05-ed25519%E3%81%AEgpg%E3%82%AD%E3%83%BC%E3%82%92%E7%94%9F%E6%88%90%E3%81%97%E3%81%A6%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%81%AB%E7%BD%B2%E5%90%8D%E3%81%99%E3%82%8B/#commit-with-the-signature>Commit with the signature</a></li></ul></ul><ul class=toc-h1><ul class=toc-h2><li><a href=/post/2020-05-05-ed25519%E3%81%AEgpg%E3%82%AD%E3%83%BC%E3%82%92%E7%94%9F%E6%88%90%E3%81%97%E3%81%A6%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%81%AB%E7%BD%B2%E5%90%8D%E3%81%99%E3%82%8B/#confirm-the-commit-signed>Confirm the commit signed</a></li></ul></ul><ul class=toc-h1><ul class=toc-h2><li><a href=/post/2020-05-05-ed25519%E3%81%AEgpg%E3%82%AD%E3%83%BC%E3%82%92%E7%94%9F%E6%88%90%E3%81%97%E3%81%A6%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%81%AB%E7%BD%B2%E5%90%8D%E3%81%99%E3%82%8B/#github-verifies-the-commit>GitHub verifies the commit</a></li></ul></ul><ul class=toc-h1><ul class=toc-h2><li><a href=/post/2020-05-05-ed25519%E3%81%AEgpg%E3%82%AD%E3%83%BC%E3%82%92%E7%94%9F%E6%88%90%E3%81%97%E3%81%A6%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E3%81%AB%E7%BD%B2%E5%90%8D%E3%81%99%E3%82%8B/#reference>Reference</a></li></ul></ul></div><p>GnuPGでED25519のGPGキーを生成し、Gitのコミットに署名を行います。そして、GitHubに生成した鍵を登録することで、署名が検証されることを確認します。</p><h2 id=generate-key>Generate key</h2><p>まずは鍵を生成します。</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>&gt; gpg --expert --full-gen-key
gpg <span class=o>(</span>GnuPG<span class=o>)</span> 2.2.20<span class=p>;</span> Copyright <span class=o>(</span>C<span class=o>)</span> <span class=m>2020</span> Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Please <span class=k>select</span> what kind of key you want:
   <span class=o>(</span>1<span class=o>)</span> RSA and RSA <span class=o>(</span>default<span class=o>)</span>
   <span class=o>(</span>2<span class=o>)</span> DSA and Elgamal
   <span class=o>(</span>3<span class=o>)</span> DSA <span class=o>(</span>sign only<span class=o>)</span>
   <span class=o>(</span>4<span class=o>)</span> RSA <span class=o>(</span>sign only<span class=o>)</span>
   <span class=o>(</span>7<span class=o>)</span> DSA <span class=o>(</span><span class=nb>set</span> your own capabilities<span class=o>)</span>
   <span class=o>(</span>8<span class=o>)</span> RSA <span class=o>(</span><span class=nb>set</span> your own capabilities<span class=o>)</span>
   <span class=o>(</span>9<span class=o>)</span> ECC and ECC
  <span class=o>(</span>10<span class=o>)</span> ECC <span class=o>(</span>sign only<span class=o>)</span>
  <span class=o>(</span>11<span class=o>)</span> ECC <span class=o>(</span><span class=nb>set</span> your own capabilities<span class=o>)</span>
  <span class=o>(</span>13<span class=o>)</span> Existing key
  <span class=o>(</span>14<span class=o>)</span> Existing key from card
Your selection? <span class=m>11</span>

Possible actions <span class=k>for</span> a ECDSA/EdDSA key: Sign Certify Authenticate
Current allowed actions: Sign Certify

   <span class=o>(</span>S<span class=o>)</span> Toggle the sign capability
   <span class=o>(</span>A<span class=o>)</span> Toggle the authenticate capability
   <span class=o>(</span>Q<span class=o>)</span> Finished

Your selection?
Please <span class=k>select</span> which elliptic curve you want:
   <span class=o>(</span>1<span class=o>)</span> Curve <span class=m>25519</span>
   <span class=o>(</span>3<span class=o>)</span> NIST P-256
   <span class=o>(</span>4<span class=o>)</span> NIST P-384
   <span class=o>(</span>5<span class=o>)</span> NIST P-521
   <span class=o>(</span>6<span class=o>)</span> Brainpool P-256
   <span class=o>(</span>7<span class=o>)</span> Brainpool P-384
   <span class=o>(</span>8<span class=o>)</span> Brainpool P-512
   <span class=o>(</span>9<span class=o>)</span> secp256k1
Your selection? <span class=m>1</span>
Please specify how long the key should be valid.
         <span class=nv>0</span> <span class=o>=</span> key does not expire
      &lt;n&gt;  <span class=o>=</span> key expires in n days
      &lt;n&gt;w <span class=o>=</span> key expires in n weeks
      &lt;n&gt;m <span class=o>=</span> key expires in n months
      &lt;n&gt;y <span class=o>=</span> key expires in n years
Key is valid <span class=k>for</span>? <span class=o>(</span>0<span class=o>)</span>
Key does not expire at all
Is this correct? <span class=o>(</span>y/N<span class=o>)</span> y

GnuPG needs to construct a user ID to identify your key.

Real name: TAKAHASHI Shuuji
Email address: shuuji3@gmail.com
Comment:
You selected this USER-ID:
    <span class=s2>&#34;TAKAHASHI Shuuji &lt;shuuji3@gmail.com&gt;&#34;</span>

Change <span class=o>(</span>N<span class=o>)</span>ame, <span class=o>(</span>C<span class=o>)</span>omment, <span class=o>(</span>E<span class=o>)</span>mail or <span class=o>(</span>O<span class=o>)</span>kay/<span class=o>(</span>Q<span class=o>)</span>uit? o
We need to generate a lot of random bytes. It is a good idea to perform
some other action <span class=o>(</span><span class=nb>type</span> on the keyboard, move the mouse, utilize the
disks<span class=o>)</span> during the prime generation<span class=p>;</span> this gives the random number
generator a better chance to gain enough entropy.
gpg: key FC8A43AFCFBCC836 marked as ultimately trusted
gpg: revocation certificate stored as <span class=s1>&#39;/Users/shuuji/.gnupg/openpgp-revocs.d/21CD54006A9FD72AAB25DC82FC8A43AFCFBCC836.rev&#39;</span>
public and secret key created and signed.

pub   ed25519 2020-05-05 <span class=o>[</span>SC<span class=o>]</span>
      21CD54006A9FD72AAB25DC82FC8A43AFCFBCC836
uid                      TAKAHASHI Shuuji &lt;shuuji3@gmail.com&gt;
</code></pre></div><h2 id=add-subkeys>Add subkeys</h2><p>生成した鍵に対して、署名用と認証用の2つのサブキーを追加します。生成された鍵の指紋<code>21CD54006A9FD72AAB25DC82FC8A43AFCFBCC836</code>を指定して、<code>--edit-key</code>を行います。</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>&gt; gpg --expert --edit-key 21CD54006A9FD72AAB25DC82FC8A43AFCFBCC836
gpg <span class=o>(</span>GnuPG<span class=o>)</span> 2.2.20<span class=p>;</span> Copyright <span class=o>(</span>C<span class=o>)</span> <span class=m>2020</span> Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Secret key is available.

sec  ed25519/FC8A43AFCFBCC836
     created: 2020-05-05  expires: never       usage: SC
     trust: ultimate      validity: ultimate
<span class=o>[</span>ultimate<span class=o>]</span> <span class=o>(</span>1<span class=o>)</span>. TAKAHASHI Shuuji &lt;shuuji3@gmail.com&gt;

gpg&gt; addkey
Please <span class=k>select</span> what kind of key you want:
   <span class=o>(</span>3<span class=o>)</span> DSA <span class=o>(</span>sign only<span class=o>)</span>
   <span class=o>(</span>4<span class=o>)</span> RSA <span class=o>(</span>sign only<span class=o>)</span>
   <span class=o>(</span>5<span class=o>)</span> Elgamal <span class=o>(</span>encrypt only<span class=o>)</span>
   <span class=o>(</span>6<span class=o>)</span> RSA <span class=o>(</span>encrypt only<span class=o>)</span>
   <span class=o>(</span>7<span class=o>)</span> DSA <span class=o>(</span><span class=nb>set</span> your own capabilities<span class=o>)</span>
   <span class=o>(</span>8<span class=o>)</span> RSA <span class=o>(</span><span class=nb>set</span> your own capabilities<span class=o>)</span>
  <span class=o>(</span>10<span class=o>)</span> ECC <span class=o>(</span>sign only<span class=o>)</span>
  <span class=o>(</span>11<span class=o>)</span> ECC <span class=o>(</span><span class=nb>set</span> your own capabilities<span class=o>)</span>
  <span class=o>(</span>12<span class=o>)</span> ECC <span class=o>(</span>encrypt only<span class=o>)</span>
  <span class=o>(</span>13<span class=o>)</span> Existing key
  <span class=o>(</span>14<span class=o>)</span> Existing key from card
Your selection? <span class=m>11</span>

Possible actions <span class=k>for</span> a ECDSA/EdDSA key: Sign Authenticate
Current allowed actions: Sign

   <span class=o>(</span>S<span class=o>)</span> Toggle the sign capability
   <span class=o>(</span>A<span class=o>)</span> Toggle the authenticate capability
   <span class=o>(</span>Q<span class=o>)</span> Finished

Your selection?
Please <span class=k>select</span> which elliptic curve you want:
   <span class=o>(</span>1<span class=o>)</span> Curve <span class=m>25519</span>
   <span class=o>(</span>3<span class=o>)</span> NIST P-256
   <span class=o>(</span>4<span class=o>)</span> NIST P-384
   <span class=o>(</span>5<span class=o>)</span> NIST P-521
   <span class=o>(</span>6<span class=o>)</span> Brainpool P-256
   <span class=o>(</span>7<span class=o>)</span> Brainpool P-384
   <span class=o>(</span>8<span class=o>)</span> Brainpool P-512
   <span class=o>(</span>9<span class=o>)</span> secp256k1
Your selection? <span class=m>1</span>
Please specify how long the key should be valid.
         <span class=nv>0</span> <span class=o>=</span> key does not expire
      &lt;n&gt;  <span class=o>=</span> key expires in n days
      &lt;n&gt;w <span class=o>=</span> key expires in n weeks
      &lt;n&gt;m <span class=o>=</span> key expires in n months
      &lt;n&gt;y <span class=o>=</span> key expires in n years
Key is valid <span class=k>for</span>? <span class=o>(</span>0<span class=o>)</span>
Key does not expire at all
Is this correct? <span class=o>(</span>y/N<span class=o>)</span> y
Really create? <span class=o>(</span>y/N<span class=o>)</span> y
We need to generate a lot of random bytes. It is a good idea to perform
some other action <span class=o>(</span><span class=nb>type</span> on the keyboard, move the mouse, utilize the
disks<span class=o>)</span> during the prime generation<span class=p>;</span> this gives the random number
generator a better chance to gain enough entropy.

sec  ed25519/FC8A43AFCFBCC836
     created: 2020-05-05  expires: never       usage: SC
     trust: ultimate      validity: ultimate
ssb  ed25519/6FA31977C6C288BB
     created: 2020-05-05  expires: never       usage: S
<span class=o>[</span>ultimate<span class=o>]</span> <span class=o>(</span>1<span class=o>)</span>. TAKAHASHI Shuuji &lt;shuuji3@gmail.com&gt;

gpg&gt; addkey
Please <span class=k>select</span> what kind of key you want:
   <span class=o>(</span>3<span class=o>)</span> DSA <span class=o>(</span>sign only<span class=o>)</span>
   <span class=o>(</span>4<span class=o>)</span> RSA <span class=o>(</span>sign only<span class=o>)</span>
   <span class=o>(</span>5<span class=o>)</span> Elgamal <span class=o>(</span>encrypt only<span class=o>)</span>
   <span class=o>(</span>6<span class=o>)</span> RSA <span class=o>(</span>encrypt only<span class=o>)</span>
   <span class=o>(</span>7<span class=o>)</span> DSA <span class=o>(</span><span class=nb>set</span> your own capabilities<span class=o>)</span>
   <span class=o>(</span>8<span class=o>)</span> RSA <span class=o>(</span><span class=nb>set</span> your own capabilities<span class=o>)</span>
  <span class=o>(</span>10<span class=o>)</span> ECC <span class=o>(</span>sign only<span class=o>)</span>
  <span class=o>(</span>11<span class=o>)</span> ECC <span class=o>(</span><span class=nb>set</span> your own capabilities<span class=o>)</span>
  <span class=o>(</span>12<span class=o>)</span> ECC <span class=o>(</span>encrypt only<span class=o>)</span>
  <span class=o>(</span>13<span class=o>)</span> Existing key
  <span class=o>(</span>14<span class=o>)</span> Existing key from card
Your selection? <span class=m>11</span>

Possible actions <span class=k>for</span> a ECDSA/EdDSA key: Sign Authenticate
Current allowed actions: Sign

   <span class=o>(</span>S<span class=o>)</span> Toggle the sign capability
   <span class=o>(</span>A<span class=o>)</span> Toggle the authenticate capability
   <span class=o>(</span>Q<span class=o>)</span> Finished

Your selection? s

Possible actions <span class=k>for</span> a ECDSA/EdDSA key: Sign Authenticate
Current allowed actions:

   <span class=o>(</span>S<span class=o>)</span> Toggle the sign capability
   <span class=o>(</span>A<span class=o>)</span> Toggle the authenticate capability
   <span class=o>(</span>Q<span class=o>)</span> Finished

Your selection? a

Possible actions <span class=k>for</span> a ECDSA/EdDSA key: Sign Authenticate
Current allowed actions: Authenticate

   <span class=o>(</span>S<span class=o>)</span> Toggle the sign capability
   <span class=o>(</span>A<span class=o>)</span> Toggle the authenticate capability
   <span class=o>(</span>Q<span class=o>)</span> Finished

Your selection? q
Please <span class=k>select</span> which elliptic curve you want:
   <span class=o>(</span>1<span class=o>)</span> Curve <span class=m>25519</span>
   <span class=o>(</span>3<span class=o>)</span> NIST P-256
   <span class=o>(</span>4<span class=o>)</span> NIST P-384
   <span class=o>(</span>5<span class=o>)</span> NIST P-521
   <span class=o>(</span>6<span class=o>)</span> Brainpool P-256
   <span class=o>(</span>7<span class=o>)</span> Brainpool P-384
   <span class=o>(</span>8<span class=o>)</span> Brainpool P-512
   <span class=o>(</span>9<span class=o>)</span> secp256k1
Your selection? q
Invalid selection.
Your selection? <span class=m>1</span>
Please specify how long the key should be valid.
         <span class=nv>0</span> <span class=o>=</span> key does not expire
      &lt;n&gt;  <span class=o>=</span> key expires in n days
      &lt;n&gt;w <span class=o>=</span> key expires in n weeks
      &lt;n&gt;m <span class=o>=</span> key expires in n months
      &lt;n&gt;y <span class=o>=</span> key expires in n years
Key is valid <span class=k>for</span>? <span class=o>(</span>0<span class=o>)</span>
Key does not expire at all
Is this correct? <span class=o>(</span>y/N<span class=o>)</span> y
Really create? <span class=o>(</span>y/N<span class=o>)</span> y
We need to generate a lot of random bytes. It is a good idea to perform
some other action <span class=o>(</span><span class=nb>type</span> on the keyboard, move the mouse, utilize the
disks<span class=o>)</span> during the prime generation<span class=p>;</span> this gives the random number
generator a better chance to gain enough entropy.

sec  ed25519/FC8A43AFCFBCC836
     created: 2020-05-05  expires: never       usage: SC
     trust: ultimate      validity: ultimate
ssb  ed25519/6FA31977C6C288BB
     created: 2020-05-05  expires: never       usage: S
ssb  ed25519/D1FB45BFF487ED4C
     created: 2020-05-05  expires: never       usage: A
<span class=o>[</span>ultimate<span class=o>]</span> <span class=o>(</span>1<span class=o>)</span>. TAKAHASHI Shuuji &lt;shuuji3@gmail.com&gt;

gpg&gt; save
</code></pre></div><p>最後に<code>save</code>コマンドで保存しないと、結果が失われてしまうので注意します。サブキーが登録されたことを確認します。</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>&gt; gpg --list-secret-keys --keyid-format LONG
/Users/shuuji/.gnupg/pubring.kbx
--------------------------------
sec   ed25519/FC8A43AFCFBCC836 2020-05-05 <span class=o>[</span>SC<span class=o>]</span>
      21CD54006A9FD72AAB25DC82FC8A43AFCFBCC836
uid                 <span class=o>[</span>ultimate<span class=o>]</span> TAKAHASHI Shuuji &lt;shuuji3@gmail.com&gt;
ssb   ed25519/6FA31977C6C288BB 2020-05-05 <span class=o>[</span>S<span class=o>]</span>
ssb   ed25519/D1FB45BFF487ED4C 2020-05-05 <span class=o>[</span>A<span class=o>]</span>
</code></pre></div><h2 id=export-public-key-to-github>Export public key to GitHub</h2><p>GitHubでCommitの署名をVerifyしてもらうためには、公開鍵をexportmして、GitHubに登録する必要があります。</p><p>まず、鍵をexportします。</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>&gt; gpg --export --armor 21CD54006A9FD72AAB25DC82FC8A43AFCFBCC836
-----BEGIN PGP PUBLIC KEY BLOCK-----

<span class=o>(</span>...<span class=o>)</span>

-----END PGP PUBLIC KEY BLOCK-----

</code></pre></div><p>GitHubの設定画面の<a href=https://github.com/settings/keys>SSH and GPG keys</a>の「New GPG key」ボタンをクリックして、出力された鍵をコピー＆ペーストして登録します。</p><h2 id=commit-with-the-signature>Commit with the signature</h2><p>コミットに署名するようにgitが設定されていることを確認します。</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>&gt; git config --global -l <span class=p>|</span> egrep <span class=s1>&#39;(key|gpg)&#39;</span>
user.signingkey<span class=o>=</span>FC8A43AFCFBCC836
commit.gpgsign<span class=o>=</span><span class=nb>true</span>
gpg.program<span class=o>=</span>gpg2
</code></pre></div><p>コミットします。</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>&gt; git add .
&gt; git commit -m <span class=s1>&#39;Initial commit.&#39;</span>
&gt; git push
</code></pre></div><h2 id=confirm-the-commit-signed>Confirm the commit signed</h2><p><code>git log</code>サブコマンドに<code>--show-signature</code>オプションを指定すると、当該コミットの署名の情報が確認できます。</p><div class=highlight><pre class=chroma><code class=language-shell data-lang=shell>&gt; git log --show-signature
commit 9c8a8a64d94c665b6da962cfba6194ea36f355f9 <span class=o>(</span>HEAD -&gt; master, origin/master<span class=o>)</span>
gpg: Signature made 火  5/ <span class=m>5</span> 19:34:33 <span class=m>2020</span> JST
gpg:                using EDDSA key 21CD54006A9FD72AAB25DC82FC8A43AFCFBCC836
gpg: Good signature from <span class=s2>&#34;TAKAHASHI Shuuji &lt;shuuji3@gmail.com&gt;&#34;</span> <span class=o>[</span>ultimate<span class=o>]</span>
Author: TAKAHASHI Shuuji &lt;shuuji3@gmail.com&gt;
Date:   Tue May <span class=m>5</span> 19:34:33 <span class=m>2020</span> +0900

    Initial commit.
</code></pre></div><h2 id=github-verifies-the-commit>GitHub verifies the commit</h2><p>コミットに正しく署名されていれば、以下のようにリポジトリのコミット一覧で「Verified」バッジが表示されます。</p><p><img src=images/github-commit-verified-signature.png alt=コミット一覧の「Verified」バッジ></p><h2 id=reference>Reference</h2><ul><li><p><a href=https://www.gniibe.org/memo/software/gpg/keygen-25519.html>Creating newer ECC keys for GnuPG</a></p><ul><li>ED25519のGPGキーの作り方が書かれている。</li></ul></li><li><p><a href=https://git-scm.com/book/en/v2/Git-Tools-Signing-Your-Work>Git - Signing Your Work</a></p><ul><li>gitコマンドの署名に関する詳しい説明が書かれている。</li></ul></li><li><p><a href=https://help.github.com/github/authenticating-to-github/managing-commit-signature-verification>Managing commit signature verification - GitHub Help</a></p><ul><li>コミットの署名の検証について書かれたGitHubのヘルプページ。</li></ul></li></ul></div></article></div></section></div><div class=container><div class=pagination><a class="btn btn-secondary pull-right" href=https://weblog.shuuji3.xyz/post/2020-05-03-kubernetes%E3%81%B8%E3%81%AE%E5%88%9D%E3%82%81%E3%81%A6%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%88%E3%83%AA%E3%83%93%E3%83%A5%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3/><i class="fa fa-chevron-left" aria-hidden=true></i>Previous</a>
<button type=button class="btn btn-secondary pull-left disabled">Next <i class="fa fa-chevron-right" aria-hidden=true></i></button></div></div><div class=wrapper-footer><div class=container><footer class=footer><img src=/images/powered-by-hugo.svg alt="powered by hugo"></img></footer></div></div><script src=/js/dist/vendor/jquery/jquery.min.js></script><script src=/js/dist/vendor/tether/tether.min.js></script><script src=/js/dist/vendor/bootstrap/bootstrap.min.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-7053288-5','auto');ga('send','pageview');}</script></body></html>