<!doctype html><html class=no-js lang=en-us prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><head><meta charset=utf-8><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=description content="The empty Gitpod environment does not have gcloud command to interact with Google Cloud. So we need to install it by ourselves."><meta property="og:description" content="The empty Gitpod environment does not have gcloud command to interact with Google Cloud. So we need to install it by ourselves."><meta name=author content="TAKAHASHI Shuuji"><meta property="og:title" content="Install `gcloud` CLI command on Gitpod environment"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><base href=https://weblog.shuuji3.xyz/><title>Install `gcloud` CLI command on Gitpod environment - Weblog by shuuji3</title><link rel=canonical href=https://weblog.shuuji3.xyz/post/2023-10-14-install-gcloud-cli-on-gitpod/><link rel=stylesheet href=/css/style.min.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&family=Poppins&family=Open+Sans&display=swap" rel=stylesheet><link rel=stylesheet href=https://weblog.shuuji3.xyz/main.min.4d921e7eae457fcc4c957bf84050eb12e00a8760ea0c533432761b82d14f2b44.css emotion=ðŸ¤©></head><body lang=en><div class=wrapper-masthead><div class=container><header class="masthead clearfix"><a href=https://weblog.shuuji3.xyz/ class=site-avatar><img src=/images/emoji-google-unicorn-face.png></a><div class=site-info><h1 class=site-name><a href=https://weblog.shuuji3.xyz/>Weblog by shuuji3</a></h1><p class=site-description>Happy Software Engineering</p></div><nav><a href=/><i class="fa fa-home mr-1" aria-hidden=true></i> Weblog Home</a>
<a href=https://shuuji3.xyz/><i class="fa fa-globe-americas mr-1" aria-hidden=true></i> Website</a>
<a href=https://github.com/shuuji3><i class="fa fa-code mr-1" aria-hidden=true></i> GitHub</a></nav></header></div></div><div class=container><section class=section><article class=article><h1 class=title><a href=https://weblog.shuuji3.xyz/post/2023-10-14-install-gcloud-cli-on-gitpod/>Install `gcloud` CLI command on Gitpod environment</a></h1><div class=post-metadata><p class=text-muted></p><div class="tags text-muted"><i class="fa fa-tags" aria-hidden=true></i>
<a class="button is-link code" href=/tags/google-cloud>google-cloud</a>
<a class="button is-link code" href=/tags/gcloud>gcloud</a>
<a class="button is-link code" href=/tags/gitpod>gitpod</a></div><p class=text-muted><i class="fa fa-calendar" aria-hidden=true></i> 2023-10-14</p></div><div class=content><div class="well post-banner"></div><div class="table-of-contents toc bd-callout"><h4 class=text-muted>Table of Contents</h4><ul class=toc-h1><li><a href=/post/2023-10-14-install-gcloud-cli-on-gitpod/#gitpod-template-repository>Gitpod template repository</a></li></ul><ul class=toc-h1><li><a href=/post/2023-10-14-install-gcloud-cli-on-gitpod/#installation-commands>Installation commands</a></li></ul><ul class=toc-h1><ul class=toc-h2><li><a href=/post/2023-10-14-install-gcloud-cli-on-gitpod/#explanation>Explanation</a></li></ul></ul><ul class=toc-h1><li><a href=/post/2023-10-14-install-gcloud-cli-on-gitpod/#references>References</a></li></ul></div><p>The empty Gitpod environment does not have <code>gcloud</code> command to interact with Google Cloud. So we need to install it by ourselves.</p><p><a href=https://cloud.google.com/sdk/docs/install>Google Cloud documentation</a> has good explanation on how to install it on Linux environment, so we can follow that instruction.</p><p>It involves adding gpg key for their apt repository to invoke the initial authentication command, so it might be a bit cumbersome for those not familiar with Debian Linux environment or Google Cloud SDK (<code>gcloud</code> command) setup.</p><h2 id=gitpod-template-repository>Gitpod template repository</h2><p>You can use this repository I created as a base repository to take a shortcut: <a href=https://github.com/shuuji3/gitpod-workspace-with-gcloud>shuuji3/gitpod-workspace-with-gcloud</a></p><h2 id=installation-commands>Installation commands</h2><p>The entire commands needed for installation are the following five lines:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt-get install -y apt-transport-https ca-certificates gnupg
</span></span><span style=display:flex><span><span style=color:#0086b3>echo</span> <span style=color:#d14>&#34;deb [signed-by=/usr/share/keyrings/cloud.google.gpg] https://packages.cloud.google.com/apt cloud-sdk main&#34;</span> | sudo tee -a /etc/apt/sources.list.d/google-cloud-sdk.list
</span></span><span style=display:flex><span>curl https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key --keyring /usr/share/keyrings/cloud.google.gpg add -
</span></span><span style=display:flex><span>sudo apt-get update <span style=color:#000;font-weight:700>&amp;&amp;</span> sudo apt-get install -y google-cloud-cli
</span></span><span style=display:flex><span>gcloud auth login
</span></span></code></pre></div><h3 id=explanation>Explanation</h3><p>This installs the required dependencies. The first two package needs to communicate with the apt repository via HTTPS. And the last one is for GNU Privacy Guard for handling the signing of the apt repository.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt-get install -y apt-transport-https ca-certificates gnupg
</span></span></code></pre></div><p>A new apt repository source config file is stored under <code>/etc/apt/sources.list.d/</code>. In this case, oneline apt repository information is stored with gpg key information.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#0086b3>echo</span> <span style=color:#d14>&#34;deb [signed-by=/usr/share/keyrings/cloud.google.gpg] https://packages.cloud.google.com/apt cloud-sdk main&#34;</span> | sudo tee -a /etc/apt/sources.list.d/google-cloud-sdk.list
</span></span></code></pre></div><p>This download the latest gpg key from Google Cloud and stores it specified by the previous configuration.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key --keyring /usr/share/keyrings/cloud.google.gpg add -
</span></span></code></pre></div><p>And then, we install <code>google-cloud-cli</code> package which includes <code>gcloud</code> cli tool.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>sudo apt-get update <span style=color:#000;font-weight:700>&amp;&amp;</span> sudo apt-get install -y google-cloud-cli
</span></span></code></pre></div><p>Finally, we need to be authenticated by Google. This will print out a URL to request an authentication to Google Cloud from our Google account.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>gcloud auth login
</span></span></code></pre></div><p>After being authenticated and entering the authentication code, we can now use <code>gcloud</code> and can do whatever you would like to do with Google Cloud!</p><h2 id=references>References</h2><ul><li><a href=https://cloud.google.com/sdk/docs/install>Install the gcloud CLI Â |Â  Google Cloud CLI Documentation</a></li></ul><h2>Comments</h2><script src=https://utteranc.es/client.js repo=shuuji3/weblog issue-term=pathname label=utterances theme=github-light crossorigin=anonymous async></script></div></article></section></div><div class=container><div class=pagination><a class="btn btn-primary text-white pull-right" href=https://weblog.shuuji3.xyz/post/2023-10-14-first-impression-of-djangox-and-cookiecutter-django/><i class="fa fa-chevron-left" aria-hidden=true></i> Previous</a>
<button type=button class="btn btn-primary text-white pull-left disabled">Next <i class="fa fa-chevron-right" aria-hidden=true></i></button></div></div><div class=wrapper-footer><div class=container><footer class=footer><a rel=license href=https://creativecommons.org/licenses/by/4.0/><img alt="Creative Commons License CC-BY 4.0" src=/images/cc-by.svg></a>
<a href=https://gohugo.io/><img src=/images/powered-by-hugo.svg alt="powered by hugo"></a><p>This work is licensed under a
<a rel=license href=https://creativecommons.org/licenses/by/4.0/>Creative Commons Attribution 4.0 International License (CC-BY 4.0)
</a>.</p><p>This website uses <a href=https://analytics.google.com/>Google Analytics</a>
to understand users and provide better contents.</p></footer></div></div><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-7053288-5","auto"),ga("send","pageview"))</script></body></html>