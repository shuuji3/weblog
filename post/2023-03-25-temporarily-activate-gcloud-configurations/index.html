<!doctype html><html class=no-js lang=en-us prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><head><meta charset=utf-8><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=description content><meta property="og:description" content><meta name=author content="map[]"><meta property="og:title" content="Temporarily activate `gcloud` configurations with `CLOUDSDK_ACTIVE_CONFIG_NAME`"><meta property="twitter:title" content="Temporarily activate `gcloud` configurations with `CLOUDSDK_ACTIVE_CONFIG_NAME`"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><base href=https://weblog.shuuji3.xyz/><title>Temporarily activate `gcloud` configurations with `CLOUDSDK_ACTIVE_CONFIG_NAME` - Weblog by shuuji3</title><link rel=canonical href=https://weblog.shuuji3.xyz/post/2023-03-25-temporarily-activate-gcloud-configurations/><link rel=stylesheet href=/css/style.min.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&family=Poppins&family=Open+Sans&display=swap" rel=stylesheet><link rel=stylesheet href=https://weblog.shuuji3.xyz/main.min.e8e68ddca3bdaee3228e8815fec0bd949066ae88b8a4b3f4121e07b3b3a82d03.css emotion=ðŸ¤©></head><body lang=en><div class=wrapper-masthead><div class=container><header class="masthead clearfix"><a href=https://weblog.shuuji3.xyz/ class=site-avatar><img src=/images/emoji-google-unicorn-face.png></a><div class=site-info><h1 class=site-name><a href=https://weblog.shuuji3.xyz/>Weblog by shuuji3</a></h1><p class=site-description>Happy Software Engineering</p></div><nav><a href=/><i class="fa fa-home mr-1" aria-hidden=true></i> Weblog Home</a>
<a href=https://shuuji3.xyz/><i class="fa fa-globe-americas mr-1" aria-hidden=true></i> Website</a>
<a href=https://github.com/shuuji3><i class="fa fa-code mr-1" aria-hidden=true></i> GitHub</a></nav></header></div></div><div class=container><section class=section><article class=article><h1 class=title><a href=https://weblog.shuuji3.xyz/post/2023-03-25-temporarily-activate-gcloud-configurations/>Temporarily activate `gcloud` configurations with `CLOUDSDK_ACTIVE_CONFIG_NAME`</a></h1><div class=post-metadata><p class=text-muted></p><div class="tags text-muted"><i class="fa fa-tags" aria-hidden=true></i>
<a class="button is-link code" href=/tags/google-cloud>google-cloud</a>
<a class="button is-link code" href=/tags/gcloud>gcloud</a></div><p class=text-muted><i class="fa fa-calendar" aria-hidden=true></i> 2023-03-25</p></div><div class=content><div class="well post-banner"></div><div class="table-of-contents toc bd-callout"><h4 class=text-muted>Table of Contents</h4><ul class=toc-h1><li><a href=/post/2023-03-25-temporarily-activate-gcloud-configurations/#gcloud-config-for-one-project>gcloud config for one project</a></li></ul><ul class=toc-h1><li><a href=/post/2023-03-25-temporarily-activate-gcloud-configurations/#gcloud-config-configurations-for-a-set-of-configs>gcloud config configurations for a set of configs</a></li></ul><ul class=toc-h1><li><a href=/post/2023-03-25-temporarily-activate-gcloud-configurations/#prevent-mistake-to-run-command-against-wrong-google-cloud-project>Prevent mistake to run command against wrong Google Cloud project</a></li></ul><ul class=toc-h1><li><a href=/post/2023-03-25-temporarily-activate-gcloud-configurations/#references>References</a></li></ul></div><p>You can use <code>CLOUDSDK_ACTIVE_CONFIG_NAME</code> to switch between multiple configurations temporarily.</p><h2 id=gcloud-config-for-one-project><code>gcloud config</code> for one project</h2><p>Google Cloud SDK (a.k.a. <code>gcloud</code>) can be configured via various config options, such as <code>gcloud config set project my-gcp-project-123</code> (set the default Google Cloud project name to <code>my-gcp-project-123</code>) and <code>gcloud config set run/region asia-northeast1</code> (set the default deploy region of Cloud Run to <code>asia-northeast1</code> that is Tokyo region).</p><p>But when you need to handle multiple Google Cloud projects or personal/work projects, you have to manage a set of configs.</p><h2 id=gcloud-config-configurations-for-a-set-of-configs><code>gcloud config configurations</code> for a set of configs</h2><p>To switch a set of <code>gcloud config</code>, Google Cloud SDK has a useful grouping feature called <code>configurations</code> and we can switch between one set of config group and another one.</p><p>You can create a <code>configurations</code> with <code>gcloud config configurations</code> sub-subcommand and can switch a configurations by <code>gcloud config configurations activate &lt;configurations-name></code>.</p><h2 id=prevent-mistake-to-run-command-against-wrong-google-cloud-project>Prevent mistake to run command against wrong Google Cloud project</h2><p>However, I found out that sometimes I forgot to switch back to the previous project and I was about to run a wrong command against different project. That can cause an unwanted incident.</p><p>To mitigate the risk of such an incident, you can use a special environment variable <code>CLOUDSDK_ACTIVE_CONFIG_NAME</code> so that the specified configurations only within the terminal. If you use the terminal in your editor and the editor has one window for one project, it becomes rare to run wrong <code>gcloud</code> command on the other project.</p><h2 id=references>References</h2><ul><li><a href=https://cloud.google.com/sdk/docs/configurations#activating_a_configuration>Managing gcloud CLI configurations Â |Â  Google Cloud CLI Documentation</a></li></ul><h2>Comments</h2><script src=https://utteranc.es/client.js repo=shuuji3/weblog issue-term=pathname label=utterances theme=github-light crossorigin=anonymous async></script></div></article></section></div><div class=container><div class=pagination><a class="btn btn-primary text-white pull-right" href=https://weblog.shuuji3.xyz/post/2022-12-26-useful-preinstalled-proxy-params-nginx-config/><i class="fa fa-chevron-left" aria-hidden=true></i> Previous</a>
<a class="btn btn-primary text-white pull-right" href=https://weblog.shuuji3.xyz/post/2023-09-16-track-down-flask-socketio-logger/>Next <i class="fa fa-chevron-right" aria-hidden=true></i></a></div></div><div class=wrapper-footer><div class=container><footer class=footer><a rel=license href=https://creativecommons.org/licenses/by/4.0/><img alt="Creative Commons License CC-BY 4.0" src=/images/cc-by.svg></a>
<a href=https://gohugo.io/><img src=/images/powered-by-hugo.svg alt="powered by hugo"></a><p>This work is licensed under a
<a rel=license href=https://creativecommons.org/licenses/by/4.0/>Creative Commons Attribution 4.0 International License (CC-BY 4.0)
</a>.</p><p>This website uses <a href=https://analytics.google.com/>Google Analytics</a>
to understand users and provide better contents.</p></footer></div></div><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-7053288-5","auto"),ga("send","pageview"))</script></body></html>